---
layout:     post
title:      监测linux一些重要文件md5值脚本
date:       2013-02-25
---
今天写了个小小的监测linux重要文件md5值的脚本，为了安全最好在安装好系统之后部署

其实网上有开源软件 监测文件是否被修改

#!/bin/bash#crontab everydayFILENAME=`hostname`_MD5_`date +%Y%m%d%H%M`.txtFILETEMP=`hostname`_MD5_`date -d yesterday  +%Y%m%d%H%M`.txtlogpath=/data/`date +%Y%m%d`if [ ! -d $logpath ]; then   mkdir $logpath   chmod ugo+w $logpathficd $logpathfind /bin -type f |sort |xargs md5sum >$FILENAME.binfind /sbin -type f |sort |xargs md5sum >$FILENAME.sbinfind /usr/bin -type f |sort |xargs md5sum >$FILENAME.ubinfind /usr/sbin -type f |sort |xargs md5sum >$FILENAME.usbinfind /etc -type f |sort |xargs md5sum >$FILENAME.etc####md5sum  -c $FILETEMP.bin  |grep -v OK >>$FILENAMEmd5sum  -c $FILETEMP.sbin |grep -v OK >>$FILENAMEmd5sum  -c $FILETEMP.ubin |grep -v OK >>$FILENAMEmd5sum  -c $FILETEMP.usbin|grep -v OK >>$FILENAMEmd5sum  -c $FILETEMP.etc  |grep -v OK >>$FILENAMEcd ..find . -mtime +7 -name '*_MD5_*' -exec rm -f {} \;

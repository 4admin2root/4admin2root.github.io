---
layout:     post
title:      转：ASMdisk2TB的问题
date:       2012-08-11
---
今天同事谈到 用fdisk 看到磁盘大小和 asm 上看到的不一样

fdisk 结果2TB多

而asm 看 1.99TB

于是猜想 

搜索如下网文

原文

[http://dbzone.iteye.com/blog/982384](http://dbzone.iteye.com/blog/982384)

今天在客户现场安装Oracle rac时，创建ASM DISKGROUP时出现问题，以下为解决过程。记录之，以备忘。 客户操作系统版本为AIX 6105，Oracle crs版本为10.2.0.5,rdbms和asm版本为10.2.0.1。 当用dbca工具建立磁盘组时，检索不出备选磁盘。在确定rdisk权限等没问题之后，在启动ASM实例之后，尝试在1号节点手动建立磁盘组，不料建磁盘组时出现以下错误。 

红色标注可以看到，Oracle识别不了磁盘rhdisk7，但实际上rhdisk7确实存在。由于时间紧张，上google搜索，在一份otn的帖子中，一老外同行也碰到过类似问题，后来在解决问题描述时指出： 

询问客户之后，发现本案例中也是raid5 而且rdisk也超过了2T，于是按照网友指出的方法进行创磁盘组尝试。幸好创建成功！ 

创建成功之后，碰到了ASM重启之后，识别不了磁盘组错误： 

或者 

解决办法为： 在asm参数文件中显示指明该asm需要mount的磁盘组 

为什么ASM不能创建超过2T的硬盘呢？上metalink一查，Oracle针对这一现象，解释为bug：Bug 6453944 - ORA-15196 with ASM disks larger than 2TB [ID 6453944.8] 

此外metalink 736891.1对此bug引起的后果有较为详细的描述，其中最直接的后果就是损坏ASM元数据（metadata）： 

，并导致如下错误发生： 

当然这一bug已经在以下版本修复： 

那么除此之外，ASM还有什么限制呢?(metalink:ID 370921.1).我想除了2TB限制，其他限制达到的可能性还是比较低的。 

---
layout:     post
title:      一次修改时间导致的ORACLE实例崩溃
date:       2012-08-11
---
oracle 10.2.0.4

OS redhat  5.3 x64

标红的文件其时间字段已经不对了

alert====Thu Jun  7 09:04:35 2012Thread 2 advanced to log sequence 23288 (LGWR switch)  Current log# 4 seq# 23288 mem# 0: +DG1/testdb/onlinelog/group_4.266.706720723  Current log# 4 seq# 23288 mem# 1: +DG1/testdb/onlinelog/group_42Thu Jun  7 09:04:36 2012LOGMINER: End mining logfile: +DG1/testdb/onlinelog/group_3.265.706720721Thu Jun  7 09:04:38 2012LOGMINER: Begin mining logfile for session 21 thread 2 sequence 23288, +DG1/testdb/onlinelog/group_4.266.706720723Tue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_mman_8319.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120MMAN: terminating instance due to error 1513Tue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_lms0_8311.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_o000_8378.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_lms1_8315.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120krvxerpt: Errors detected in process 30, role preparer.Tue Sep 22 00:00:00 20120krvxmrs: Leaving by exception: 1513Tue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_p002_8449.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_lmon_8307.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_lck0_8346.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_smon_8327.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_lgwr_8323.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_q003_21105.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120krvxerpt: Errors detected in process 29, role builder.Tue Sep 22 00:00:00 20120krvxmrs: Leaving by exception: 1513Tue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_p001_8447.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_dbw0_8321.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_reco_8329.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120krvxerpt: Errors detected in process 26, role reader.Tue Sep 22 00:00:00 20120krvxmrs: Leaving by exception: 1513Tue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_p000_8436.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_o001_31898.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_lmd0_8309.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_j001_27440.trc:ORA-01513: 操作系统返回无效的当前时间Tue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_q005_18133.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120Errors in file /u01/app/oracle/admin/testdb/bdump/testdb2_pmon_8301.trc:ORA-01513: invalid current time returned by operating systemTue Sep 22 00:00:00 20120LMS0: terminating instance due to error 1513Tue Sep 22 00:00:00 20120LMS1: terminating instance due to error 1513Tue Sep 22 00:00:00 20120System state dump is made for local instanceSystem State dumped to trace file /u01/app/oracle/admin/testdb/bdump/testdb2_diag_8303.trcTue Sep 22 00:00:00 20120Termination issued to instance processes. Waiting for the processes to exitInstance termination failed to kill one or more processesTue Sep 22 00:00:00 20120Shutting down instance (abort)License high water mark = 225Termination issued to instance processes. Waiting for the processes to exitInstance termination failed to kill one or more processesInstance terminated by USER, pid = 10410

检查历史

history==== 1584  date -s '201206070922' 1585  date 1586  date -s '2012-06-07 09:22'

测试发现

[root@node6 ~]#  date -s '201206101337'Thu Jun 17 00:00:00 CST 65734[root@node6 ~]#[root@node6 ~]#[root@node6 ~]# dateSat Sep  4 19:31:14 CST 2038

时间设置问题

[root@testdb2~]# date --vdate (GNU coreutils) 5.97Copyright (C) 2006 Free Software Foundation, Inc.This is free software.  You may redistribute copies of it under the terms ofthe GNU General Public License <[http://www.gnu.org/licenses/gpl.html](http://www.gnu.org/licenses/gpl.html)>.There is NO WARRANTY, to the extent permitted by law.

Written by David MacKenzie.
